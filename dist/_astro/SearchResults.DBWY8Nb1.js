import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as o}from"./index.DK-fsZOb.js";function f({query:r}){const[l,n]=o.useState([]),[d,i]=o.useState(!0);return o.useEffect(()=>{if(!r){n([]),i(!1);return}fetch("/search-index.json").then(s=>s.json()).then(s=>{const t=r.toLowerCase(),m=s.filter(a=>a.title.toLowerCase().includes(t)||a.description.toLowerCase().includes(t)||a.categories.some(c=>c.toLowerCase().includes(t))||a.tags.some(c=>c.toLowerCase().includes(t))||a.content.toLowerCase().includes(t));n(m),i(!1)}).catch(()=>{n([]),i(!1)})},[r]),d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary-orange/30 border-t-primary-orange rounded-full animate-spin"})}):r?l.length===0?e.jsxs("p",{className:"text-center text-[#999] py-12",children:['No results found for "',r,'".']}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("p",{className:"text-sm text-[#999] mb-6",children:[l.length," result",l.length!==1?"s":"",' for "',r,'"']}),l.map(s=>e.jsx("a",{href:`/posts/${s.slug}`,className:"block p-5 rounded-xl bg-[#1a1a1a]/50 border border-[#333]/30 hover:border-orange-500/40 transition-all",children:e.jsxs("div",{className:"flex gap-4",children:[s.image&&e.jsx("img",{src:s.image,alt:s.title,className:"w-24 h-24 rounded-lg object-cover flex-shrink-0 hidden sm:block"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-[#999] line-clamp-2",children:s.description||s.content.slice(0,150)}),e.jsx("div",{className:"flex gap-2 mt-2",children:s.categories.map(t=>e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-500/10 text-orange-400",children:t},t))})]})]})},s.slug))]}):e.jsx("p",{className:"text-center text-[#999] py-12",children:"Enter a search term to find posts."})}export{f as default};

import{j as l}from"./jsx-runtime.ClP7wGfN.js";import{r as x}from"./index.DK-fsZOb.js";function b(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}const y=new Set(["node","edge","walker","can","with","entry","exit","def","class","obj","enum","has","ability","if","else","elif","for","while","return","spawn","yield","try","except","finally","assert","import","include","from","as","global","async","await","lambda","here","self","root","super","init","postinit","visitor","impl","and","or","not","in","is","True","False","None","break","continue","pass","del","raise","test","check","glob","sem","new"]),v=new Set(["visit","disengage"]),w=new Set(["str","int","float","bool","list","dict","tuple","set","any","type"]),j=new Set(["=","+","-","*","/","%","==","!=","<",">","<=",">=","+=","-=","*=","/=","|","&","^","~","<<",">>","**","->","++>","-->","<++","<--"]);function d(t){const s=[];let e=0;const n=[];for(;e<t.length;){if(/\s/.test(t[e])){let a="";for(;e<t.length&&/\s/.test(t[e]);)a+=t[e],e++;s.push({type:"ws",value:a});continue}if(t[e]==="#"){let a="";for(;e<t.length&&t[e]!==`
`;)a+=t[e],e++;s.push({type:"comment",value:a});continue}if(t[e]==='"'||t[e]==="'"){const a=t[e];let u=a;for(e++;e<t.length&&t[e]!==a;)t[e]==="\\"&&e+1<t.length?(u+=t[e]+t[e+1],e+=2):(u+=t[e],e++);e<t.length&&(u+=t[e],e++),s.push({type:"string",value:u});continue}if(/\d/.test(t[e])){let a="";for(;e<t.length&&/[\d.]/.test(t[e]);)a+=t[e],e++;s.push({type:"number",value:a});continue}if("{([".includes(t[e])){n.push(t[e]),s.push({type:"bracket",value:t[e],level:n.length-1}),e++;continue}if("})]".includes(t[e])){const a=t[e]==="}"?"{":t[e]===")"?"(":"[";n.length>0&&n[n.length-1]===a&&n.pop(),s.push({type:"bracket",value:t[e],level:n.length}),e++;continue}let r="",i=e;for(;i<t.length&&/[=+\-*/%<>!&|^~]/.test(t[i]);)r+=t[i],i++;if(r&&j.has(r)){s.push({type:"operator",value:r}),e=i;continue}if(/[a-zA-Z_`]/.test(t[e])){let a="";for(t[e]==="`"&&(a+=t[e],e++);e<t.length&&/[a-zA-Z0-9_?]/.test(t[e]);)a+=t[e],e++;const u=s.slice().reverse().find(c=>c.type!=="ws"),g=u&&["import","include","from"].includes(u.value),p=u&&["walker","node","edge","obj","class","enum"].includes(u.value),h=u&&u.value==="can",f=u&&u.value==="with";if(g){for(;e<t.length&&t[e]===".";)for(a+=t[e],e++;e<t.length&&/[a-zA-Z0-9_]/.test(t[e]);)a+=t[e],e++;s.push({type:"module",value:a})}else if(["entry","exit"].includes(a)&&(f||h))s.push({type:"special-keyword",value:a});else if(v.has(a))s.push({type:"visit-keyword",value:a});else if(y.has(a))s.push({type:"keyword",value:a});else if(w.has(a))s.push({type:"type",value:a});else if(p||/^[A-Z]/.test(a))s.push({type:"class-name",value:a});else if(h)s.push({type:"function",value:a});else{let c=e;for(;c<t.length&&/\s/.test(t[c]);)c++;s.push({type:c<t.length&&t[c]==="("?"function":"variable",value:a})}continue}s.push({type:"punctuation",value:t[e]}),e++}return s}function k(t){return d(t).map(s=>{const e=b(s.value);switch(s.type){case"comment":return`<span class="jac-comment">${e}</span>`;case"string":return`<span class="jac-string">${e}</span>`;case"number":return`<span class="jac-number">${e}</span>`;case"keyword":return`<span class="jac-keyword">${e}</span>`;case"special-keyword":return`<span class="jac-special-keyword">${e}</span>`;case"visit-keyword":return`<span class="jac-visit-keyword">${e}</span>`;case"type":return`<span class="jac-type">${e}</span>`;case"class-name":return`<span class="jac-class-name">${e}</span>`;case"module":return`<span class="jac-module">${e}</span>`;case"function":return`<span class="jac-function">${e}</span>`;case"variable":return`<span class="jac-variable">${e}</span>`;case"operator":return`<span class="jac-operator">${e}</span>`;case"bracket":return`<span class="jac-bracket-level-${(s.level??0)%4}">${e}</span>`;default:return e}}).join("")}const N=new Set(["False","None","True","and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal","not","or","pass","raise","return","try","while","with","yield"]),$=new Set(["print","len","range","int","str","float","bool","list","dict","set","tuple","type","isinstance","open","enumerate","zip","map","filter","sorted","reversed","super","self","cls"]);function A(t){const s=[];let e=0;for(;e<t.length;){if(/\s/.test(t[e])){let n="";for(;e<t.length&&/\s/.test(t[e]);)n+=t[e],e++;s.push({type:"ws",value:n});continue}if(t[e]==="#"){let n="";for(;e<t.length&&t[e]!==`
`;)n+=t[e],e++;s.push({type:"comment",value:n});continue}if(t[e]==='"'&&t[e+1]==='"'&&t[e+2]==='"'||t[e]==="'"&&t[e+1]==="'"&&t[e+2]==="'"){const n=t.slice(e,e+3);let r=n;for(e+=3;e<t.length&&t.slice(e,e+3)!==n;)t[e]==="\\"&&e+1<t.length?(r+=t[e]+t[e+1],e+=2):(r+=t[e],e++);e<t.length&&(r+=n,e+=3),s.push({type:"string",value:r});continue}if(t[e]==='"'||t[e]==="'"){const n=t[e];let r="",i=n;for(e++;e<t.length&&t[e]!==n;)t[e]==="\\"&&e+1<t.length?(i+=t[e]+t[e+1],e+=2):(i+=t[e],e++);e<t.length&&(i+=t[e],e++),s.push({type:"string",value:r+i});continue}if(/\d/.test(t[e])){let n="";for(;e<t.length&&/[\d.xXoObB_a-fA-F]/.test(t[e]);)n+=t[e],e++;s.push({type:"number",value:n});continue}if(t[e]==="f"&&(t[e+1]==='"'||t[e+1]==="'")){const n=t[e+1];let r="f"+n;for(e+=2;e<t.length&&t[e]!==n;)t[e]==="\\"&&e+1<t.length?(r+=t[e]+t[e+1],e+=2):(r+=t[e],e++);e<t.length&&(r+=t[e],e++),s.push({type:"string",value:r});continue}if("{([".includes(t[e])){s.push({type:"bracket",value:t[e]}),e++;continue}if("})]".includes(t[e])){s.push({type:"bracket",value:t[e]}),e++;continue}if(/[=+\-*/%<>!&|^~@:]/.test(t[e])){let n="";for(;e<t.length&&/[=+\-*/%<>!&|^~@:]/.test(t[e]);)n+=t[e],e++;s.push({type:"operator",value:n});continue}if(t[e]==="."||t[e]===","){s.push({type:"punctuation",value:t[e]}),e++;continue}if(/[a-zA-Z_]/.test(t[e])){let n="";for(;e<t.length&&/[a-zA-Z0-9_]/.test(t[e]);)n+=t[e],e++;const r=s.slice().reverse().find(a=>a.type!=="ws"),i=r&&["def","class"].includes(r.value);if(N.has(n))s.push({type:"keyword",value:n});else if(i)s.push({type:"function",value:n});else if(/^[A-Z]/.test(n))s.push({type:"class-name",value:n});else if($.has(n))s.push({type:"builtin",value:n});else{let a=e;for(;a<t.length&&/\s/.test(t[a]);)a++;s.push({type:a<t.length&&t[a]==="("?"function":"variable",value:n})}continue}s.push({type:"punctuation",value:t[e]}),e++}return s}function S(t){return A(t).map(s=>{const e=b(s.value);switch(s.type){case"comment":return`<span class="hljs-comment">${e}</span>`;case"string":return`<span class="hljs-string">${e}</span>`;case"number":return`<span class="hljs-number">${e}</span>`;case"keyword":return`<span class="hljs-keyword">${e}</span>`;case"builtin":return`<span class="hljs-built_in">${e}</span>`;case"type":case"class-name":return`<span class="hljs-type">${e}</span>`;case"function":return`<span class="hljs-title function_">${e}</span>`;case"variable":return`<span class="hljs-variable">${e}</span>`;case"operator":return`<span class="hljs-operator">${e}</span>`;default:return e}}).join("")}function C({jacTabs:t,pythonTabs:s,tabs:e}){const[n,r]=x.useState(0),[i,a]=x.useState("jac"),u=t[n],g=s[n],p=e[n],h=i==="jac"?u:g,f=!!p?.diagram,c=x.useMemo(()=>{if(!h?.code)return"";const o=h.code.trim();return i==="jac"?k(o):S(o)},[h,i]);return l.jsxs("section",{className:"py-8 md:py-16",children:[l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-white text-center mb-4",children:["See the ",l.jsx("span",{className:"text-primary-orange",children:"Difference"})]}),l.jsx("p",{className:"text-[#999] text-center mb-12 max-w-2xl mx-auto",children:"Compare Jac with Python side by side. Same functionality, radically different expressiveness."}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[l.jsxs("div",{className:"lg:col-span-3 space-y-3",children:[e.map((o,m)=>l.jsxs("button",{onClick:()=>r(m),className:`w-full text-left p-4 rounded-xl transition-all duration-200 border ${m===n?"bg-primary-orange/15 border-primary-orange/50 text-white":"bg-medium-bg/30 border-light-bg/20 text-[#999] hover:text-white hover:border-light-bg/40"}`,children:[l.jsx("h4",{className:"font-semibold text-sm mb-1",children:o.title}),l.jsxs("p",{className:"text-xs opacity-70 leading-relaxed",children:[o.summary.slice(0,80),"..."]})]},m)),p&&l.jsxs("a",{href:p.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-primary-orange hover:underline mt-2 px-4",children:["Learn more",l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),l.jsx("div",{className:f?"lg:col-span-5":"lg:col-span-9",children:l.jsxs("div",{className:"rounded-2xl bg-medium-bg/60 border border-light-bg/30 overflow-hidden h-full flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-medium-bg border-b border-light-bg/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500/60"}),l.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-500/60"}),l.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500/60"})]}),l.jsx("span",{className:"text-xs text-[#999] ml-2",children:h?.filename})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>a("jac"),className:`px-3 py-1 rounded-md text-xs font-medium transition-colors ${i==="jac"?"bg-primary-orange/20 text-primary-orange":"text-[#999] hover:text-white"}`,children:"Jac"}),l.jsx("button",{onClick:()=>a("python"),className:`px-3 py-1 rounded-md text-xs font-medium transition-colors ${i==="python"?"bg-primary-orange/20 text-primary-orange":"text-[#999] hover:text-white"}`,children:"Python"})]})]}),l.jsx("pre",{className:"p-4 text-sm leading-relaxed overflow-auto flex-1 custom-scrollbar",children:l.jsx("code",{dangerouslySetInnerHTML:{__html:c}})})]})}),l.jsx("div",{className:"lg:col-span-4",children:p?.diagram&&l.jsxs("div",{className:"rounded-2xl bg-medium-bg/40 border border-light-bg/20 p-4 h-full flex flex-col items-center justify-center",children:[l.jsx("img",{src:p.diagram.src,alt:p.diagram.title,className:"max-w-full h-auto rounded-lg",onError:o=>{const m=o.currentTarget;p.diagram?.fallback&&(m.src=p.diagram.fallback)}}),l.jsx("p",{className:"text-xs text-[#999] mt-3 text-center",children:p.diagram.description})]})})]})]}),l.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.15);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.25);
        }
      `})]})}export{C as default};

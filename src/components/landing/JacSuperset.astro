---
import { highlightJac } from "@lib/highlight";

const pythonInJacCode = `import:py from math { sqrt }

can hypotenuse(a: float, b: float) -> float {
    return sqrt(a**2 + b**2);
}

with entry {
    print(hypotenuse(3.0, 4.0));
}`;

const npmInJacCode = `import:js from react { useState }
import:js from "react-dom/client" { createRoot }

obj Counter :react.Component: {
    can render {
        count, setCount = useState(0);
        return <div>
            <h1>Count: {count}</h1>
            <button onClick={|| setCount(count + 1)}>
                Increment
            </button>
        </div>;
    }
}`;
---

<section class="section relative overflow-hidden">
  <div class="container max-w-7xl mx-auto px-4">
    <div class="text-center mb-16 reveal-on-scroll">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
        Jac <span class="text-primary-orange">Supersets</span> Python
      </h2>
      <p class="text-dark-text max-w-2xl mx-auto">
        Use any Python package directly. Jac compiles to Python, so your entire ecosystem works out of the box.
      </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <div class="reveal-on-scroll">
        <div class="rounded-2xl bg-medium-bg/60 border border-light-bg/30 overflow-hidden">
          <div class="flex items-center gap-2 px-4 py-3 bg-medium-bg border-b border-light-bg/30">
            <div class="flex gap-1.5">
              <span class="w-3 h-3 rounded-full bg-red-500/60"></span>
              <span class="w-3 h-3 rounded-full bg-yellow-500/60"></span>
              <span class="w-3 h-3 rounded-full bg-green-500/60"></span>
            </div>
            <span class="text-xs text-dark-text ml-2">Python packages in Jac</span>
          </div>
          <pre class="p-4 text-sm leading-relaxed overflow-x-auto"><code set:html={highlightJac(pythonInJacCode)} /></pre>
        </div>
      </div>

      <div class="reveal-on-scroll" style="transition-delay: 150ms">
        <div class="rounded-2xl bg-medium-bg/60 border border-light-bg/30 overflow-hidden">
          <div class="flex items-center gap-2 px-4 py-3 bg-medium-bg border-b border-light-bg/30">
            <div class="flex gap-1.5">
              <span class="w-3 h-3 rounded-full bg-red-500/60"></span>
              <span class="w-3 h-3 rounded-full bg-yellow-500/60"></span>
              <span class="w-3 h-3 rounded-full bg-green-500/60"></span>
            </div>
            <span class="text-xs text-dark-text ml-2">npm packages in Jac</span>
          </div>
          <pre class="p-4 text-sm leading-relaxed overflow-x-auto"><code set:html={highlightJac(npmInJacCode)} /></pre>
        </div>
      </div>
    </div>

    <div class="text-center mt-8">
      <img
        src="/images/assets/jacsuperset.svg"
        alt="Jac Superset Diagram"
        class="mx-auto max-w-md w-full opacity-80 reveal-on-scroll"
      />
    </div>
  </div>
</section>
